# Cloudflare Email Worker Configuration
# This worker receives emails and forwards them to VPS API for filtering

name = "email-filter-forwarder"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Environment variables - configure these for your deployment
# These are placeholder values - update with your actual VPS API details
[vars]
VPS_API_URL = "https://hkg2-aki.feimails.com/api/webhook/email"
VPS_API_TOKEN = "nature123"
DEFAULT_FORWARD_TO = "wangshengshan5@gmail.com"
# Unique worker name - must match the name registered in VPS API
WORKER_NAME = "aloemail.store worker"
# Enable debug logging (true/false) - set to false in production
DEBUG_LOGGING = "true"

# Email routing binding - enables this worker to appear in Email Workers list
# and allows forwarding emails using message.forward()
[[send_email]]
name = "SEB"

# KV namespace for caching monitoring hits when VPS API is unavailable (optional)
# To enable, create a KV namespace and uncomment the following:
# [[kv_namespaces]]
# binding = "MONITORING_CACHE"
# id = "your-kv-namespace-id"

# Build configuration
[build]
command = ""

# Development settings
[dev]
port = 8788
local_protocol = "http"

# Observability - Enable Workers Logs in Cloudflare Dashboard
[observability]
enabled = true
